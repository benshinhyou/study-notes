# 标准输入和参数的区别

## 一. 标准输入和参数的区别

这个问题一定是最容易让人迷惑的，具体来说，就是搞不清什么时候用管道符`|`和文件重定向`>`，`<`，什么时候用变量`$`。

比如说，我现在有个自动连接宽带的 shell 脚本`connect.sh`，存在我的家目录：

```bash
$ where connect.sh
/home/fdl/bin/connect.sh
```

如果我想删除这个脚本，而且想少敲几次键盘，应该怎么操作呢？我曾经这样尝试过：

```bash
$ where connect.sh | rm
```

实际上，这样操作是错误的，正确的做法应该是这样的：

```bash
$ rm $(where connect.sh)
```

前者试图将`where`的结果连接到`rm`的标准输入，后者试图将结果作为命令行参数传入。

**标准输入就是编程语言中诸如`scanf`或者`readline`这种命令；而参数是指程序的`main`函数传入的`args`字符数组**。

前文 [Linux文件描述符](https://labuladong.gitee.io/algo/di-si-zhan-4baf4/linux-de-j-5a108/) 说过，管道符和重定向符是将数据作为程序的标准输入，而`$(cmd)`是读取`cmd`命令输出的数据作为参数。

用刚才的例子说，`rm`命令源代码中肯定不接受标准输入，而是接收命令行参数，删除相应的文件。作为对比，`cat`命令是既接受标准输入，又接受命令行参数：

```bash
$ cat filename
...file text...

$ cat < filename
...file text...

$ echo 'hello world' | cat
hello world
```

**如果命令能够让终端阻塞，说明该命令接收标准输入，反之就是不接受**，比如你只运行`cat`命令不加任何参数，终端就会阻塞，等待你输入字符串并回显相同的字符串。

## 二. 重定向和管道的区别

管道符（|）和重定向（>、<）是在命令行环境下用于控制输入和输出的特殊符号，它们有以下区别：

1. 管道符（|）：
   - 功能：管道符用于将一个命令的标准输出作为另一个命令的标准输入，实现两个或多个命令之间的数据传递。
   - 例子：`command1 | command2`，将command1的输出作为command2的输入。
   - 作用：可以将多个命令组合起来，形成一个管道链，每个命令处理前一个命令的输出，并将自己的输出传递给下一个命令，实现数据流的处理和转换。
2. 重定向符（>、<）：
   - 功能：重定向符用于将命令的输入或输出重定向到文件或设备。
   - 例子：
     - `command > file.txt`，将command的输出重定向到file.txt文件，如果文件不存在则创建，如果存在则覆盖原有内容。
     - `command >> file.txt`，将command的输出追加到file.txt文件末尾，如果文件不存在则创建。
     - `command < file.txt`，将file.txt文件内容作为command的输入。
   - 作用：可以将命令的输出保存到文件中，或者将文件中的内容作为命令的输入，实现输入输出的灵活控制。

**管道**触发两个子进程执行"|"两边的程序，而重定向是在一个进程内执行。